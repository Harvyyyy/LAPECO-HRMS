.holiday-stats-bar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.25rem;
    margin-bottom: 1.5rem;
}
.stat-card {
    background-color: var(--bg-primary);
    padding: 1rem;
    border-radius: var(--border-radius);
    border: 2px solid transparent;
    box-shadow: var(--card-shadow);
    display: flex;
    align-items: center;
    gap: 1rem;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}
.stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.1);
}
.stat-card.active {
    border-color: var(--app-success-color);
    box-shadow: 0 0 0 3px rgba(var(--app-success-rgb), 0.15);
}
.stat-card .stat-icon { font-size: 1.25rem; padding: 0.65rem; border-radius: 8px; color: #fff; width: 42px; height: 42px; display: flex; align-items: center; justify-content: center; }
.stat-card .stat-icon.total { background-color: var(--text-secondary); }
.stat-card .stat-icon.regular { background-color: #dc3545; }
.stat-card .stat-icon.special { background-color: #0dcaf0; }
.stat-card .stat-value { font-size: 1.75rem; font-weight: 700; display: block; line-height: 1; color: var(--text-primary); margin-bottom: 0.25rem; }
.stat-card .stat-label { font-size: 0.8rem; color: var(--text-secondary); }

.controls-bar { margin-bottom: 1.5rem !important; }
.controls-bar .input-group { max-width: 350px; }

.view-toggle {
    display: inline-flex;
    background-color: var(--bg-tertiary);
    border-radius: var(--border-radius);
    padding: 0.25rem;
    border: 1px solid var(--border-color);
}
.view-toggle .btn {
    border: none;
    font-weight: 500;
    padding: 0.35rem 1rem;
    color: var(--text-secondary);
    box-shadow: none !important;
}
.view-toggle .btn.active {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border-radius: 0.25rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
}

.holiday-list-container { display: grid; grid-template-columns: 1fr; gap: 0.75rem; }
.holiday-card { display: flex; align-items: center; padding: 0.75rem 1rem; background-color: var(--bg-primary); border: 1px solid var(--border-color); border-left-width: 4px; border-radius: var(--border-radius); transition: background-color 0.15s ease-in-out; cursor: pointer; }
.holiday-card:hover { background-color: var(--bg-tertiary); }
.holiday-card.type-regular { border-left-color: #dc3545; } 
.holiday-card.type-special { border-left-color: #0dcaf0; } 
.holiday-card .date-display { display: flex; flex-direction: column; align-items: center; text-align: center; margin-right: 1.25rem; min-width: 70px; }
.date-display .month { font-size: 0.75rem; font-weight: 500; text-transform: uppercase; color: var(--text-secondary); }
.date-display .day { font-size: 1.75rem; font-weight: 700; line-height: 1; color: var(--text-primary); }
.date-display .weekday { font-size: 0.75rem; color: var(--text-secondary); }
.holiday-card .info { flex-grow: 1; }
.holiday-card .info .name { font-size: 1rem; font-weight: 600; margin-bottom: 0.25rem; color: var(--text-primary); }
.holiday-type-badge { font-size: 0.75rem; font-weight: 500; padding: 0.35em 0.7em; border-radius: var(--border-radius); color: #fff; }
.holiday-type-badge.regular { background-color: #dc3545; } 
.holiday-type-badge.special { background-color: #0dcaf0; } 
.holiday-card .actions { margin-left: auto; }

.calendar-container { background-color: var(--bg-primary); padding: 1.5rem; border-radius: var(--border-radius); border: 1px solid var(--border-color); box-shadow: var(--card-shadow); }
.fc-event { padding: 3px 6px !important; font-size: 0.85rem !important; border-radius: 4px !important; border: 1px solid transparent !important; cursor: pointer; }
.fc-event-main { display: flex; align-items: center; gap: 0.4rem; overflow: hidden; }
.fc-event-icon { font-size: 0.9em; }
.fc-event-title { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.fc .type-regular { 
    background-color: var(--danger-color) !important; 
    color: var(--white-color) !important; 
    border: none !important;
}
.fc .type-special { 
    background-color: var(--info-color) !important; 
    color: var(--text-primary) !important;
    border: none !important;
}
  
.event-popover.popover { --bs-popover-max-width: 300px; --bs-popover-border-color: var(--border-color); --bs-popover-header-bg: var(--bg-secondary); --bs-popover-header-color: var(--text-primary); --bs-popover-body-padding-x: 1rem; --bs-popover-body-padding-y: 0.75rem; box-shadow: var(--modal-shadow); }
.event-popover .popover-header { font-weight: 600; }
.event-popover .popover-body { font-size: 0.9rem; color: var(--text-primary); }


/* --- Light Theme Override for Primary Buttons --- */
.fc .fc-button-primary {
    background-color: var(--app-success-color) !important;
    border-color: var(--app-success-color) !important;
    color: var(--text-on-success) !important;
}
.fc .fc-button-primary:hover {
    background-color: var(--app-success-color) !important;
    border-color: var(--app-success-color) !important;
    filter: var(--app-primary-hover-filter);
}
.fc .fc-button-primary:not(:disabled).fc-button-active,
.fc .fc-button-primary:not(:disabled):active {
    background-color: var(--app-success-color) !important;
    border-color: var(--app-success-color) !important;
    filter: var(--app-primary-active-filter);
}


/* --- Dark Theme Overrides for FullCalendar --- */
.dark-theme .calendar-container {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
}
/* Toolbar Title */
.dark-theme .fc .fc-toolbar-title {
    color: var(--text-primary);
}

.dark-theme .fc .fc-button {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
}
.dark-theme .fc .fc-button:hover {
    background-color: var(--bg-primary);
}
.dark-theme .fc .fc-button-primary:not(:disabled).fc-button-active,
.dark-theme .fc .fc-button-primary:not(:disabled):active {
    background-color: var(--app-success-color) !important;
    border-color: var(--app-success-color) !important;
    color: var(--text-on-success) !important;
}

.dark-theme .fc .fc-col-header-cell-cushion {
    color: var(--text-secondary);
}

.dark-theme .fc-daygrid-day {
    border-color: var(--border-color);
}

.dark-theme .fc .fc-day-today {
    background-color: rgba(var(--app-success-rgb), 0.15);
}

.dark-theme .fc .type-regular {
    background-color: rgba(var(--danger-rgb), 0.2) !important;
    border: 1px solid var(--danger-color) !important;
    color: var(--danger-color) !important;
}
.dark-theme .fc .type-special {
    background-color: rgba(var(--info-rgb), 0.2) !important;
    border: 1px solid var(--info-color) !important;
    color: var(--info-color) !important;
}

.dark-theme .event-popover.popover {
    --bs-popover-header-bg: var(--bg-tertiary);
    --bs-popover-header-color: var(--text-primary);
    --bs-popover-body-color: var(--text-secondary);
    --bs-popover-bg: var(--bg-primary);
    --bs-popover-border-color: var(--border-color);
}